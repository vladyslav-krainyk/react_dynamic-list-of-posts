{"version":3,"sources":["components/PostItem.tsx","components/PostsList.tsx","components/Loader/Loader.tsx","components/NewCommentForm.tsx","components/CommentList.tsx","components/PostDetails.tsx","components/UserSelector.tsx","utils/fetchClient.ts","types/ErrorType.ts","App.tsx","api/users.ts","api/posts.ts","api/comments.ts","index.tsx"],"names":["PostItem","post","selectedPost","onSelectPost","isSelected","id","title","className","type","classNames","onClick","PostsList","posts","map","Loader","NewCommentForm","isPostComment","onAddComment","innerComment","postId","name","email","body","innerErrors","useState","newComment","setNewComment","errors","setErrors","EMAIL_REGEX","validForm","isValid","newErrors","trim","String","match","handleChange","event","target","value","onSubmit","preventDefault","htmlFor","placeholder","onChange","CommentList","comments","onDeleteComment","href","PostDetails","isLoadingComments","isError","isOpenForm","setIsOpenForm","length","UserSelector","users","selectedUser","onSelectedUser","isActive","setIsActive","prevState","role","phone","BASE_URL","wait","delay","Promise","resolve","setTimeout","request","url","method","data","options","JSON","stringify","headers","then","fetch","response","json","ErrorType","client","App","setUsers","setPosts","setComments","setSelectedUser","setSelectedPost","isLoading","setIsLoading","setIsLoadingComments","setIsPostComment","NONE","setIsError","noPostsYet","useMemo","useEffect","catch","USERS","finally","userId","POSTS","handleSelectedUser","useCallback","user","handleSelectedPost","COMMENTS","addComment","prevComments","ADDCOMMENT","commentId","deleteComment","filter","comment","DELETECOMMENT","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cadd54c8.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { Post } from '../types/Post';\n\ntype Props = {\n  post: Post,\n  selectedPost: Post | null,\n  onSelectPost: (post: Post | null) => void,\n};\n\nexport const PostItem: React.FC<Props> = ({\n  post,\n  selectedPost,\n  onSelectPost,\n}) => {\n  const isSelected = selectedPost?.id === post.id;\n\n  return (\n    <tr\n      data-cy=\"Post\"\n    >\n      <td data-cy=\"PostId\">\n        {post.id}\n      </td>\n\n      <td data-cy=\"PostTitle\">\n        {post.title}\n      </td>\n\n      <td className=\"has-text-right is-vcentered\">\n        <button\n          type=\"button\"\n          data-cy=\"PostButton\"\n          className={classNames('button is-link', { 'is-light': !isSelected })}\n          onClick={() => onSelectPost(post)}\n        >\n          {isSelected ? 'Close' : 'Open'}\n        </button>\n      </td>\n    </tr>\n  );\n};\n","import React from 'react';\nimport { Post } from '../types/Post';\nimport { PostItem } from './PostItem';\n\ntype Props = {\n  posts: Post[],\n  selectedPost: Post | null,\n  onSelectPost: (post: Post | null) => void,\n};\n\nexport const PostsList: React.FC<Props> = ({\n  posts,\n  selectedPost,\n  onSelectPost,\n}) => {\n  return (\n    <div data-cy=\"PostsList\">\n      <p className=\"title\">Posts:</p>\n\n      <table className=\"table is-fullwidth is-striped is-hoverable is-narrow\">\n        <thead>\n          <tr className=\"has-background-link-light\">\n            <th>#</th>\n            <th>Title</th>\n            <th> </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {posts.map(post => (\n            <PostItem\n              key={post.id}\n              post={post}\n              selectedPost={selectedPost}\n              onSelectPost={onSelectPost}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { CommentData } from '../types/Comment';\nimport { Post } from '../types/Post';\n\ntype Props = {\n  selectedPost: Post | null,\n  isPostComment: boolean,\n  onAddComment: (data: CommentData) => void,\n};\n\nexport const NewCommentForm: React.FC<Props> = ({\n  selectedPost,\n  isPostComment,\n  onAddComment,\n}) => {\n  const innerComment = {\n    postId: selectedPost?.id,\n    name: '',\n    email: '',\n    body: '',\n  };\n\n  const innerErrors = {\n    name: '',\n    email: '',\n    body: '',\n  };\n\n  const [newComment, setNewComment] = useState({ ...innerComment });\n  const [errors, setErrors] = useState({ ...innerErrors });\n\n  /* eslint-disable-next-line */\n  const EMAIL_REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  const validateEmail = (email: string) => {\n    return String(email)\n      .match(EMAIL_REGEX);\n  };\n\n  const validForm = () => {\n    let isValid = true;\n    const newErrors = { ...innerErrors };\n\n    if (!newComment.name.trim()) {\n      newErrors.name = 'Name is required';\n      isValid = false;\n    }\n\n    if (!newComment.email.trim()) {\n      newErrors.email = 'Email is required';\n      isValid = false;\n    }\n\n    if (!validateEmail(newComment.email)) {\n      newErrors.email = 'Invalid email format';\n      isValid = false;\n    }\n\n    if (!newComment.body.trim()) {\n      newErrors.body = 'Enter some text';\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n\n    return isValid;\n  };\n\n  const handleChange = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    const { name, value } = event.target;\n\n    setNewComment({\n      ...newComment,\n      [name]: value,\n    });\n    setErrors({\n      ...errors,\n      [name]: '',\n    });\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (validForm()) {\n      onAddComment(newComment);\n      setNewComment({\n        ...innerComment,\n        name: newComment.name,\n        email: newComment.email,\n      });\n      setErrors({ ...innerErrors });\n    }\n  };\n\n  const handleClear = () => {\n    setNewComment({ ...innerComment });\n    setErrors({ ...innerErrors });\n  };\n\n  return (\n    <form\n      data-cy=\"NewCommentForm\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"field\" data-cy=\"NameField\">\n        <label className=\"label\" htmlFor=\"comment-author-name\">\n          Author Name\n        </label>\n\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"comment-author-name\"\n            placeholder=\"Name Surname\"\n            className={classNames('input', { 'is-danger': errors.name })}\n            value={newComment.name}\n            onChange={handleChange}\n          />\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-user\" />\n          </span>\n\n          {errors.name && (\n            <span\n              className=\"icon is-small is-right has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n\n        </div>\n\n        {errors.name && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            {errors.name}\n          </p>\n        )}\n\n      </div>\n\n      <div className=\"field\" data-cy=\"EmailField\">\n        <label className=\"label\" htmlFor=\"comment-author-email\">\n          Author Email\n        </label>\n\n        <div className=\"control has-icons-left has-icons-right\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"comment-author-email\"\n            placeholder=\"email@test.com\"\n            className={classNames('input', { 'is-danger': errors.email })}\n            value={newComment.email}\n            onChange={handleChange}\n          />\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-envelope\" />\n          </span>\n\n          {errors.email && (\n            <span\n              className=\"icon is-small is-right has-text-danger\"\n              data-cy=\"ErrorIcon\"\n            >\n              <i className=\"fas fa-exclamation-triangle\" />\n            </span>\n          )}\n\n        </div>\n\n        {errors.email && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            {errors.email}\n          </p>\n        )}\n\n      </div>\n\n      <div className=\"field\" data-cy=\"BodyField\">\n        <label className=\"label\" htmlFor=\"comment-body\">\n          Comment Text\n        </label>\n\n        <div className=\"control\">\n          <textarea\n            id=\"comment-body\"\n            name=\"body\"\n            placeholder=\"Type comment here\"\n            className={classNames('textarea', { 'is-danger': errors.body })}\n            value={newComment.body}\n            onChange={handleChange}\n          />\n        </div>\n\n        {errors.body && (\n          <p className=\"help is-danger\" data-cy=\"ErrorMessage\">\n            {errors.body}\n          </p>\n        )}\n\n      </div>\n\n      <div className=\"field is-grouped\">\n        <div className=\"control\">\n          <button\n            type=\"submit\"\n            className={classNames(\n              'button is-link',\n              { 'is-loading': isPostComment },\n            )}\n          >\n            Add\n          </button>\n        </div>\n\n        <div className=\"control\">\n          {/* eslint-disable-next-line react/button-has-type */}\n          <button\n            type=\"reset\"\n            className=\"button is-link is-light\"\n            onClick={handleClear}\n          >\n            Clear\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n","import React from 'react';\nimport { Comment } from '../types/Comment';\nimport '../styles/commentMessage.scss';\n\ntype Props = {\n  comments: Comment[],\n  onDeleteComment: (commentId: number) => void,\n};\n\nexport const CommentList: React.FC<Props> = ({\n  comments,\n  onDeleteComment,\n}) => {\n  return (\n    <>\n      <p className=\"title is-4\">\n        Comments:\n      </p>\n      <ul className=\"content comment-list\">\n        {comments.map(({\n          id,\n          email,\n          name,\n          body,\n        }) => (\n          <li\n            key={id}\n            className=\"message is-small\"\n            data-cy=\"Comment\"\n          >\n            <div className=\"message-header\">\n              <a href={`mailto:${email}`} data-cy=\"CommentAuthor\">\n                {name}\n              </a>\n              <button\n                data-cy=\"CommentDelete\"\n                type=\"button\"\n                className=\"delete is-small\"\n                aria-label=\"delete\"\n                onClick={() => onDeleteComment(id)}\n              >\n                delete button\n              </button>\n            </div>\n\n            <div className=\"message-body\" data-cy=\"CommentBody\">\n              {body}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport { Post } from '../types/Post';\nimport { Loader } from './Loader';\nimport { NewCommentForm } from './NewCommentForm';\nimport { Comment, CommentData } from '../types/Comment';\nimport { ErrorType } from '../types/ErrorType';\nimport { CommentList } from './CommentList';\n\ntype Props = {\n  selectedPost: Post | null,\n  comments: Comment[],\n  isLoadingComments: boolean,\n  isError: ErrorType,\n  onAddComment: (data: CommentData) => void,\n  isPostComment: boolean,\n  onDeleteComment: (commentId: number) => void,\n};\n\nexport const PostDetails: React.FC<Props> = ({\n  selectedPost,\n  comments,\n  isLoadingComments,\n  isError,\n  onAddComment,\n  isPostComment,\n  onDeleteComment,\n}) => {\n  const [isOpenForm, setIsOpenForm] = useState<boolean>(false);\n\n  const handleOpenForm = () => {\n    setIsOpenForm(true);\n  };\n\n  return (\n    <div className=\"content\" data-cy=\"PostDetails\">\n      <div className=\"content\" data-cy=\"PostDetails\">\n        <div className=\"block\">\n          <h2 data-cy=\"PostTitle\">\n            {`#${selectedPost?.id}: ${selectedPost?.title}`}\n          </h2>\n\n          <p data-cy=\"PostBody\">\n            {selectedPost?.body}\n          </p>\n        </div>\n\n        <div className=\"block\">\n          {isLoadingComments && <Loader />}\n\n          {isError && (\n            <div className=\"notification is-danger\" data-cy=\"CommentsError\">\n              {isError}\n            </div>\n          )}\n\n          {!comments.length ? (\n            <p className=\"title is-4\" data-cy=\"NoCommentsMessage\">\n              No comments yet\n            </p>\n          ) : (\n            <CommentList\n              comments={comments}\n              onDeleteComment={onDeleteComment}\n            />\n          )}\n\n        </div>\n        {isOpenForm ? (\n          <NewCommentForm\n            selectedPost={selectedPost}\n            isPostComment={isPostComment}\n            onAddComment={onAddComment}\n          />\n        ) : (\n          <>\n            <button\n              data-cy=\"WriteCommentButton\"\n              type=\"button\"\n              className=\"button is-link\"\n              onClick={handleOpenForm}\n            >\n              Write a comment\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { User } from '../types/User';\nimport '../styles/usersList.scss';\n\ntype Props = {\n  users: User[],\n  selectedUser: User | null,\n  onSelectedUser: (user: User) => void,\n};\n\nexport const UserSelector: React.FC<Props> = ({\n  users,\n  selectedUser,\n  onSelectedUser,\n}) => {\n  const [isActive, setIsActive] = useState<boolean>(false);\n\n  const handleDropdown = () => {\n    setIsActive(prevState => !prevState);\n  };\n\n  const handleSelectedUser = (user: User) => {\n    onSelectedUser(user);\n    setIsActive(false);\n  };\n\n  return (\n    <div\n      data-cy=\"UserSelector\"\n      className={classNames('dropdown', { 'is-active': isActive })}\n    >\n      <div className=\"dropdown-trigger\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          aria-haspopup=\"true\"\n          aria-controls=\"dropdown-menu\"\n          onClick={handleDropdown}\n        >\n          <span>\n            {selectedUser ? selectedUser.name : 'Choose a user'}\n          </span>\n\n          <span className=\"icon is-small\">\n            <i className=\"fas fa-angle-down\" aria-hidden=\"true\" />\n          </span>\n        </button>\n      </div>\n\n      <div\n        className=\"dropdown-menu\"\n        id=\"dropdown-menu\"\n        role=\"menu\"\n      >\n        <div className=\"dropdown-content\">\n          <ul className=\"content users-list\">\n            {users.map(({\n              id,\n              name,\n              email,\n              phone,\n            }) => (\n              <li key={id} className=\"user\">\n                <a\n                  href={`#user-${id}`}\n                  className={classNames(\n                    'dropdown-item',\n                    { 'is-active': id === selectedUser?.id },\n                  )}\n                  onClick={() => {\n                    handleSelectedUser({\n                      id,\n                      name,\n                      email,\n                      phone,\n                    });\n                  }}\n                >\n                  {name}\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable */\nconst BASE_URL = 'https://mate.academy/students-api';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then(response => response.json());\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","export enum ErrorType {\n  NONE = '',\n  USERS = 'Unable to load users',\n  POSTS = 'Unable to load posts',\n  COMMENTS = 'Unable to load comments',\n  ADDCOMMENT = 'Unable to add a comment',\n  DELETECOMMENT = 'Unable to delete a comment',\n}\n","import React, {\n  useState,\n  useEffect,\n  useMemo,\n  useCallback,\n} from 'react';\nimport 'bulma/bulma.sass';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './App.scss';\n\nimport classNames from 'classnames';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { UserSelector } from './components/UserSelector';\nimport { Loader } from './components/Loader';\nimport { getUsers } from './api/users';\nimport { getPosts } from './api/posts';\nimport { getComments, addComment, deleteComment } from './api/comments';\nimport { Comment, CommentData } from './types/Comment';\nimport { Post } from './types/Post';\nimport { User } from './types/User';\nimport { ErrorType } from './types/ErrorType';\n\nexport const App: React.FC = () => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [selectedPost, setSelectedPost] = useState<Post | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isLoadingComments, setIsLoadingComments] = useState<boolean>(false);\n  const [isPostComment, setIsPostComment] = useState<boolean>(false);\n  const [isError, setIsError] = useState<ErrorType>(ErrorType.NONE);\n\n  const noPostsYet = useMemo(() => {\n    return !posts.length && selectedUser\n      && !isLoading && !isError;\n  }, [posts, isLoading, isError]);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    getUsers()\n      .then(setUsers)\n      .catch(() => setIsError(ErrorType.USERS))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (!selectedUser) {\n      setPosts([]);\n      setIsLoading(false);\n\n      return;\n    }\n\n    getPosts(selectedUser.id)\n      .then(setPosts)\n      .catch(() => setIsError(ErrorType.POSTS))\n      .finally(() => setIsLoading(false));\n  }, [selectedUser]);\n\n  const handleSelectedUser = useCallback((user: User) => {\n    setSelectedUser(user);\n    setSelectedPost(null);\n  }, []);\n\n  const handleSelectedPost = useCallback((post: Post | null) => {\n    if (selectedPost?.id === post?.id) {\n      setSelectedPost(null);\n\n      return;\n    }\n\n    setSelectedPost(post || null);\n  }, [posts, selectedPost]);\n\n  useEffect(() => {\n    setIsLoadingComments(true);\n\n    if (!selectedPost) {\n      setComments([]);\n      setIsLoading(false);\n\n      return;\n    }\n\n    getComments(selectedPost.id)\n      .then(setComments)\n      .catch(() => setIsError(ErrorType.COMMENTS))\n      .finally(() => setIsLoadingComments(false));\n  }, [selectedPost]);\n\n  const handleAddComment = (data: CommentData) => {\n    setIsPostComment(true);\n\n    addComment(data)\n      .then((newComment) => {\n        setComments((prevComments) => [...prevComments, newComment]);\n      })\n      .catch(() => setIsError(ErrorType.ADDCOMMENT))\n      .finally(() => setIsPostComment(false));\n  };\n\n  const handleDeleteComment = (commentId: number) => {\n    deleteComment(commentId)\n      .then(() => {\n        setComments((prevComments) => prevComments\n          .filter((comment) => comment.id !== commentId));\n      })\n      .catch(() => setIsError(ErrorType.DELETECOMMENT));\n  };\n\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <div className=\"tile is-ancestor\">\n          <div className=\"tile is-parent\">\n            <div className=\"tile is-child box is-success\">\n              <div className=\"block\">\n                <UserSelector\n                  users={users}\n                  selectedUser={selectedUser}\n                  onSelectedUser={handleSelectedUser}\n                />\n              </div>\n\n              <div className=\"block\" data-cy=\"MainContent\">\n                {!selectedUser && (\n                  <p data-cy=\"NoSelectedUser\">\n                    No user selected\n                  </p>\n                )}\n\n                {isLoading && <Loader />}\n\n                {isError && (\n                  <div\n                    className=\"notification is-danger\"\n                    data-cy=\"PostsLoadingError\"\n                  >\n                    {isError}\n                  </div>\n                )}\n\n                {noPostsYet && (\n                  <div className=\"notification is-warning\" data-cy=\"NoPostsYet\">\n                    No posts yet\n                  </div>\n                )}\n\n                {!!posts.length && !isLoading && !isError && (\n                  <PostsList\n                    posts={posts}\n                    selectedPost={selectedPost}\n                    onSelectPost={handleSelectedPost}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div\n            data-cy=\"Sidebar\"\n            className={classNames(\n              'tile',\n              'is-parent',\n              'is-8-desktop',\n              'Sidebar',\n              { 'Sidebar--open': selectedPost },\n            )}\n          >\n            <div className=\"tile is-child box is-success \">\n              {selectedPost && (\n                <PostDetails\n                  selectedPost={selectedPost}\n                  comments={comments}\n                  isLoadingComments={isLoadingComments}\n                  isError={isError}\n                  onAddComment={handleAddComment}\n                  isPostComment={isPostComment}\n                  onDeleteComment={handleDeleteComment}\n                />\n              )}\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </main>\n  );\n};\n","import { client } from '../utils/fetchClient';\nimport { User } from '../types/User';\n\nexport const getUsers = () => {\n  return client.get<User[]>('/users');\n};\n","import { client } from '../utils/fetchClient';\nimport { Post } from '../types/Post';\n\nexport const getPosts = (userId: number) => {\n  return client.get<Post[]>(`/posts?userId=${userId}`);\n};\n","import { client } from '../utils/fetchClient';\nimport { Comment, CommentData } from '../types/Comment';\n\nexport const getComments = (postId: number) => {\n  return client.get<Comment[]>(`/comments?postId=${postId}`);\n};\n\nexport const addComment = (data: CommentData) => {\n  return client.post<Comment>('/comments', data);\n};\n\nexport const deleteComment = (commentId: number) => {\n  return client.delete(`/comments/${commentId}`);\n};\n","import ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}